Veb Shelllərə Giriş
Pentest öyrənmə və praktika dövründə veb serverlərə rast gələcəyimiz demək olar ki, qaçılmazdır. Dünyadakı çoxlu proqram təminatı xidmətləri veb brauzer və HTTP/S vasitəsilə əlçatan olan veb əsaslı platformalara keçir. İndi olduğumuz saytı düşünün — tamamilə brauzerdədir, dünyanın istənilən yerindən internetə qoşulmuş cihaz vasitəsilə giriş mümkündür. Müasir əyləncə vasitələri — video oyunlar, musiqi və video yayımı — brauzerlər və tətbiqlər vasitəsilə əlçatan olur. Bu, zaman keçdikcə veb tətbiqlərini daha çox hədəf alacağımızı göstərir.

Bundan əlavə, xarici penetrasiya testləri zamanı müştərilərin periferik şəbəkələrinin yaxşı gücləndirildiyini tez-tez görürük. Onlar əvvəllər tez-tez rast gəldiyimiz kimi SMB və ya digər həssas xidmətləri açıq saxlamırlar. Belə elementləri indi əsasən daxili penetrasiya testləri zamanı gözləyirik. Xarici testlərdə ən çox istifadə etdiyimiz “giriş” yolları veb tətbiqi zəiflikləri vasitəsilə (fayl yükləmə hücumları, SQL injection, RFI/LFI, əmrlərin injection edilməsi və s.), parol sıçratma hücumları (RDS, VPN portalları, Citrix, OWA və Active Directory autentifikasiyası tələb edən digər tətbiqlərə qarşı) və sosial mühəndislik olur.

Veb tətbiqləri xarici şəbəkə qiymətləndirməsi zamanı çox vaxt ən çox açıq olan hissəni təşkil edir və böyük hücum səthləri təqdim edir. Biz PHP, JSP və ya ASP.NET veb shell-ini birbaşa yükləməyə imkan verən publik fayl yükləmə formalarını tapa bilərik. Avtorizasiya tələb edən sınaqlarda bəzi funksionallıqlar mövcud ola bilər və ya şəxsi favoritimiz — istifadəçi özünü qeydiyyatdan keçirdikdə profil şəkli yükləmə sahəsinə (müştəri tərəfdəki yoxlamaları keçdikdən sonra) veb shell yükləmək imkanı. Həmçinin Tomcat, Axis2 və ya WebLogic kimi tətbiqlərə rast gələ bilərik; bu tətbiqlər funksionallıq çərçivəsində JSP kodunu WAR faylı vasitəsilə yerləşdirməyə imkan verir. Hətta faylları birbaşa serverin webrootuna yükləməyə imkan verən səhv konfiqurasiya olunmuş FTP xidməti tapa bilərik. Veb shell yükləmək üçün istifadə oluna biləcək başqa çoxlu yollar var və bunların hamısı bu modulun hüdudlarından kənardır. İcazəsiz yükləmə zəifliyi və ya konfiqurasiya səhvi müəyyən etdikdən sonra növbəti addım nədir?

Veb shell nədir?
Veb shell — brauzer əsaslı shell sessiyasıdır; bunu web brauzerdən istifadə edərək veb serverin altındakı əməliyyat sistemi ilə qarşılıqlı əlaqə qurmaq üçün istifadə edə bilərik. Yenə də, veb shell vasitəsilə uzaqdan kod icrası əldə etmək üçün əvvəlcə fayl yükləmə qabiliyyəti verən veb sayt və ya veb tətbiqi zəifliyi tapmalıyıq. Əksər veb shell-lər hədəf serverə veb dilində yazılmış payload (yüklənən fayl) yüklənməsi ilə əldə olunur. Yüklədiyimiz payload(lar) brauzer daxilində uzaqdan kod icra etmə qabiliyyəti verməlidir. Növbəti bölmələr və çətinliklər əsasən brauzerdə veb shell-lərimiz vasitəsilə əmrləri icra etməyə yönələcək. Yenə də vacibdir ki, yalnız veb shell-ə etibar etmək sistemlə qarşılıqlı əlaqədə qeyri-sabit və etibarsız ola bilər — çünki bəzi veb tətbiqlər müəyyən müddətdən sonra yüklənmiş faylları siləcək şəkildə konfiqurasiya olunub. Sistemdə davamlılıq (persistence) əldə etmək üçün çox vaxt bu, veb tətbiqi vasitəsilə uzaqdan kod icrasını ilkin şəkildə əldə etməyin bir yoludur — daha sonra isə bu girişdən istifadə edib onu daha interaktiv geri bağlantı (reverse shell) ilə yüksəldə bilərik.

Növbəti bir neçə bölmədə biz müxtəlif veb shell-ləri öyrənəcək və təcrübə edəcəyik — bunlar vasitəsilə veb brauzer vasitəsilə veb serverin altındakı əməliyyat sistemi ilə qarşılıqlı əlaqə qurmaq mümkün olacaq.
